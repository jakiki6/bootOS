See https://github.com/kmcallister/phosphene
Note: Some parts are modified by me.
