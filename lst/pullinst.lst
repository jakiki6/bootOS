     1                                  org 0xc000
     2 00000000 60                              pusha
     3 00000001 06                              push es
     4 00000002 FC                              cld
     5 00000003 BE007C                          mov si, 0x7c00
     6 00000006 BF00C0                          mov di, 0xc000
     7 00000009 B90002                          mov cx, 0x0200
     8 0000000C F3A4                            rep movsb
     9 0000000E EA10C00000                      jmp 0x0000:0xc010
    10                                  lbl:
    11 00000013 BB[2700]                        mov bx, data
    12 00000016 BF007C                          mov di, 0x7c00
    13 00000019 CD23                            int 0x23
    14 0000001B 7204                            jc err
    15 0000001D 07                              pop es
    16 0000001E 61                              popa
    17 0000001F EB0B                            jmp cs_command
    18                                  err:
    19 00000021 B013                            mov al, 0x13
    20 00000023 CD22                            int 0x22
    21 00000025 CD20                            int 0x20
    22                                  data:
    23 00000027 70756C6C00                      db "pull", 0
    24                                  cs_command:
    25 0000002C B040                            mov al, "@"
    26 0000002E E82500                          call input_line
    27 00000031 E80F00                          call xdigit             ; Get a hexadecimal digit
    28 00000034 B104                            mov cl,4
    29 00000036 D2E0                            shl al,cl
    30 00000038 91                              xchg ax,cx
    31 00000039 E80700                          call xdigit             ; Get a hexadecimal digit
    32 0000003C 08C8                            or al,cl
    33 0000003E A2267B                          mov byte [0x7a00 + 294], al
    34 00000041 CD20                    	int 0x20
    35                                  xdigit:  
    36 00000043 AC                              lodsb
    37 00000044 3C00                            cmp al,0x00             ; Zero character marks end of line
    38 00000046 740D                            je r
    39 00000048 2C30                            sub al,0x30             ; Avoid spaces (anything below ASCII 0x30)
    40 0000004A 72F7                            jc xdigit
    41 0000004C 3C0A                            cmp al,0x0a
    42 0000004E 7205                            jc r
    43 00000050 2C07                            sub al,0x07
    44 00000052 240F                            and al,0x0f   
    45 00000054 F9                              stc
    46                                  r:
    47 00000055 C3                              ret
    48                                  input_line:   
    49 00000056 CD26                            int 0x26
    50 00000058 C3                      	ret
